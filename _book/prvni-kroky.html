<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 První kroky v R a RStudiu | Od Excelu k R</title>
  <meta name="description" content="Rychlokurz R pro začátečníky, kteří zatím používali Excel nebo Google Sheets." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="3 První kroky v R a RStudiu | Od Excelu k R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Rychlokurz R pro začátečníky, kteří zatím používali Excel nebo Google Sheets." />
  <meta name="github-repo" content="MarekProkop/excel-r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 První kroky v R a RStudiu | Od Excelu k R" />
  
  <meta name="twitter:description" content="Rychlokurz R pro začátečníky, kteří zatím používali Excel nebo Google Sheets." />
  

<meta name="author" content="Marek Prokop" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="instalace-a-nastaveni.html"/>
<link rel="next" href="jak-dostat-data-do-r.html"/>
<script src="libs/header-attrs-2.13/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Od Excelu k R</a></li>
<li class="divider"></li>
<li><a href="index.html#o-knize">O knize<span></span></a>
<ul>
<li><a href="index.html#čeho-chci-spolu-s-vámi-dosáhnout">Čeho chci spolu s vámi dosáhnout<span></span></a></li>
<li><a href="index.html#zpětná-vazba">Zpětná vazba<span></span></a></li>
<li><a href="index.html#o-autorovi">O autorovi<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="proc-r.html"><a href="proc-r.html"><i class="fa fa-check"></i><b>1</b> Proč jsem vyměnil Excel za R<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="proc-r.html"><a href="proc-r.html#co-je-r-a-rstudio"><i class="fa fa-check"></i><b>1.1</b> Co je R a RStudio<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="proc-r.html"><a href="proc-r.html#pro-koho-je-r-vhodné"><i class="fa fa-check"></i><b>1.2</b> Pro koho je R vhodné<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="proc-r.html"><a href="proc-r.html#kdo-by-se-do-r-rozhodně-neměl-pouštět"><i class="fa fa-check"></i><b>1.3</b> Kdo by se do R rozhodně neměl pouštět<span></span></a></li>
<li class="chapter" data-level="1.4" data-path="proc-r.html"><a href="proc-r.html#co-vám-r-ve-srovnání-s-excelem-přinese"><i class="fa fa-check"></i><b>1.4</b> Co vám R ve srovnání s Excelem přinese<span></span></a></li>
<li class="chapter" data-level="1.5" data-path="proc-r.html"><a href="proc-r.html#proč-zrovna-r-a-ne-třeba-python"><i class="fa fa-check"></i><b>1.5</b> Proč zrovna R a ne třeba Python<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html"><i class="fa fa-check"></i><b>2</b> Instalace a nastavení<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html#cloud-nebo-instalace"><i class="fa fa-check"></i><b>2.1</b> Cloud nebo instalace<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html#instalace-r"><i class="fa fa-check"></i><b>2.2</b> Instalace R<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html#instalace-rstudia"><i class="fa fa-check"></i><b>2.3</b> Instalace RStudia<span></span></a></li>
<li class="chapter" data-level="2.4" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html#pokud-už-r-a-rstudio-máte-a-trochu-znáte"><i class="fa fa-check"></i><b>2.4</b> Pokud už R a RStudio máte (a trochu znáte)<span></span></a></li>
<li class="chapter" data-level="2.5" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html#založte-si-cvičný-projekt"><i class="fa fa-check"></i><b>2.5</b> Založte si cvičný projekt<span></span></a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html#co-jsou-projekty"><i class="fa fa-check"></i><b>2.5.1</b> Co jsou projekty<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html#nastavení-rstudia"><i class="fa fa-check"></i><b>2.6</b> Nastavení RStudia<span></span></a></li>
<li class="chapter" data-level="2.7" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html#instalace-balíčků"><i class="fa fa-check"></i><b>2.7</b> Instalace balíčků<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="prvni-kroky.html"><a href="prvni-kroky.html"><i class="fa fa-check"></i><b>3</b> První kroky v R a RStudiu<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="prvni-kroky.html"><a href="prvni-kroky.html#excel-vs.-r"><i class="fa fa-check"></i><b>3.1</b> Excel vs. R<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="prvni-kroky.html"><a href="prvni-kroky.html#tři-způsoby-práce-s-r"><i class="fa fa-check"></i><b>3.2</b> Tři způsoby práce s R<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="prvni-kroky.html"><a href="prvni-kroky.html#interaktivní-práce-s-konsolí"><i class="fa fa-check"></i><b>3.3</b> Interaktivní práce s konsolí<span></span></a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="prvni-kroky.html"><a href="prvni-kroky.html#objekty-proměnné"><i class="fa fa-check"></i><b>3.3.1</b> Objekty (proměnné)<span></span></a></li>
<li class="chapter" data-level="3.3.2" data-path="prvni-kroky.html"><a href="prvni-kroky.html#funkce"><i class="fa fa-check"></i><b>3.3.2</b> Funkce<span></span></a></li>
<li class="chapter" data-level="3.3.3" data-path="prvni-kroky.html"><a href="prvni-kroky.html#integrovaná-nápověda"><i class="fa fa-check"></i><b>3.3.3</b> Integrovaná nápověda<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="prvni-kroky.html"><a href="prvni-kroky.html#práce-se-skripty"><i class="fa fa-check"></i><b>3.4</b> Práce se skripty<span></span></a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="prvni-kroky.html"><a href="prvni-kroky.html#úprava-skriptu"><i class="fa fa-check"></i><b>3.4.1</b> Úprava skriptu<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="prvni-kroky.html"><a href="prvni-kroky.html#r-markdown"><i class="fa fa-check"></i><b>3.5</b> R Markdown<span></span></a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="prvni-kroky.html"><a href="prvni-kroky.html#co-je-r-markdown"><i class="fa fa-check"></i><b>3.5.1</b> Co je R Markdown<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="prvni-kroky.html"><a href="prvni-kroky.html#z-téhle-kapitoly-si-pamatujte"><i class="fa fa-check"></i><b>3.6</b> Z téhle kapitoly si pamatujte<span></span></a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="prvni-kroky.html"><a href="prvni-kroky.html#r-markdown-2"><i class="fa fa-check"></i><b>3.6.1</b> R Markdown<span></span></a></li>
<li class="chapter" data-level="3.6.2" data-path="prvni-kroky.html"><a href="prvni-kroky.html#vektory"><i class="fa fa-check"></i><b>3.6.2</b> Vektory<span></span></a></li>
<li class="chapter" data-level="3.6.3" data-path="prvni-kroky.html"><a href="prvni-kroky.html#funkce-1"><i class="fa fa-check"></i><b>3.6.3</b> Funkce<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html"><i class="fa fa-check"></i><b>4</b> Jak dostat data do R<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#co-myslím-daty"><i class="fa fa-check"></i><b>4.1</b> Co myslím daty<span></span></a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#data-frame"><i class="fa fa-check"></i><b>4.1.1</b> Data frame<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#ruční-vstup-dat"><i class="fa fa-check"></i><b>4.2</b> Ruční vstup dat<span></span></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#funnkce-data.frame"><i class="fa fa-check"></i><b>4.2.1</b> Funnkce data.frame<span></span></a></li>
<li class="chapter" data-level="4.2.2" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#funkce-tibble"><i class="fa fa-check"></i><b>4.2.2</b> Funkce tibble<span></span></a></li>
<li class="chapter" data-level="4.2.3" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#funkce-tribble"><i class="fa fa-check"></i><b>4.2.3</b> Funkce tribble<span></span></a></li>
<li class="chapter" data-level="4.2.4" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#co-když-chci-něco-opravit"><i class="fa fa-check"></i><b>4.2.4</b> Co když chci něco opravit?<span></span></a></li>
<li class="chapter" data-level="4.2.5" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#funkce-edit"><i class="fa fa-check"></i><b>4.2.5</b> Funkce edit<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#chci-si-jen-rychle-něco-vyzkoušet"><i class="fa fa-check"></i><b>4.3</b> Chci si jen rychle něco vyzkoušet<span></span></a></li>
<li class="chapter" data-level="4.4" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#práce-s-csv-soubory"><i class="fa fa-check"></i><b>4.4</b> Práce s CSV soubory<span></span></a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#funkce-write_csv"><i class="fa fa-check"></i><b>4.4.1</b> Funkce write_csv<span></span></a></li>
<li class="chapter" data-level="4.4.2" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#funkce-read_csv"><i class="fa fa-check"></i><b>4.4.2</b> Funkce read_csv<span></span></a></li>
<li class="chapter" data-level="4.4.3" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#interaktivní-import-dat-v-rstudiu"><i class="fa fa-check"></i><b>4.4.3</b> Interaktivní import dat v Rstudiu<span></span></a></li>
<li class="chapter" data-level="4.4.4" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#načtení-csv-z-webu"><i class="fa fa-check"></i><b>4.4.4</b> Načtení CSV z webu<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#data-na-webové-stránce"><i class="fa fa-check"></i><b>4.5</b> Data na webové stránce<span></span></a></li>
<li class="chapter" data-level="4.6" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#data-z-jiných-zdrojů"><i class="fa fa-check"></i><b>4.6</b> Data z jiných zdrojů<span></span></a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Od Excelu k R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="první-kroky-v-r-a-rstudiu" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> První kroky v R a RStudiu<a href="prvni-kroky.html#první-kroky-v-r-a-rstudiu" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Nebudu vám tajit, že se způsob práce v R se od Excelu na první pohled dost liší. Excel vám naservíruje připravený rastr buněk, do kterých můžete rovnou psát hodnoty a vzorce. V R naopak začínáte s prázdnou plochou, a co si sami neuděláte, to nemáte.</p>
<div id="excel-vs.-r" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Excel vs. R<a href="prvni-kroky.html#excel-vs.-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Když budete chtít v Excelu se číst dvě čísla ve dvou různých buňkách, nejprve je do těch buněk napíšete. Např. číslo 10 do buňky A1 a číslo 20 do buňky B1. Do buňky C1 pak můžete dát vzorec <code>=A1+B1</code>, který čísla sečte.</p>
<p>V R to uděláte podobně jen musíte napsat kód, který „buňky" (v R se jim říká objekty) založí a pak sečte. Ten kód může vypadat třeba takhle:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="prvni-kroky.html#cb6-1" aria-hidden="true" tabindex="-1"></a>prvni_cislo <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb6-2"><a href="prvni-kroky.html#cb6-2" aria-hidden="true" tabindex="-1"></a>druhe_cislo <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb6-3"><a href="prvni-kroky.html#cb6-3" aria-hidden="true" tabindex="-1"></a>prvni_cislo <span class="sc">+</span> druhe_cislo</span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<p>Případně můžete, stejně jako v Excelu, dvě čísla rovnou sečíst:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="prvni-kroky.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<p>A nebo výsledek uložit do jiné „buňky" (objektu):</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="prvni-kroky.html#cb10-1" aria-hidden="true" tabindex="-1"></a>prvni_cislo <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb10-2"><a href="prvni-kroky.html#cb10-2" aria-hidden="true" tabindex="-1"></a>druhe_cislo <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb10-3"><a href="prvni-kroky.html#cb10-3" aria-hidden="true" tabindex="-1"></a>vysledek <span class="ot">&lt;-</span> prvni_cislo <span class="sc">+</span> druhe_cislo</span></code></pre></div>
<p>a tu si pak zobrazit:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="prvni-kroky.html#cb11-1" aria-hidden="true" tabindex="-1"></a>vysledek</span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<p>Ve skutečnosti je to o dost pestřejší. Můžete jedním „vzorcem" (v R se tomu říká výraz nebo příkaz) zpracovat celou řadu nebo tabulku různých hodnot a výsledek zobrazit mnoha způsoby – jako tabulku, formátovaný text, graf. To vše se v této knížce naučíte.</p>
</div>
<div id="tři-způsoby-práce-s-r" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Tři způsoby práce s R<a href="prvni-kroky.html#tři-způsoby-práce-s-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>S R jde pracovat mnoha různými způsoby. Já nejčastěji používám tři:</p>
<ol style="list-style-type: decimal">
<li>Interaktivní práce v konsoli.</li>
<li>Polointeraktivní práce se skriptem.</li>
<li>Interaktivní, poloautomatická či zcela automatická tvorba dokumentu v R Markdownu.</li>
</ol>
<p>Všechny tři ukážu na jednoduchém příkladu: představte si, že jste dnes ve svém obchodě vydali 100 účtenek. Teď se chcete rychle dozvědět, kolik dělá celková tržba a jaká byla typická útrata jednoho zákazníka.</p>
</div>
<div id="interaktivní-práce-s-konsolí" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Interaktivní práce s konsolí<a href="prvni-kroky.html#interaktivní-práce-s-konsolí" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Vaše RStudio vypadá nějak takhle a konsole je ta velká plocha vlevo. Psát budete za zobáček úplně vlevo (jinam ani nejde umístit kursor), každý řádek vždy odentrujete a konsole vám většinou nějak odpoví.</p>
<div class="figure">
<img src="img/rstudio-console-01.png" alt="" />
<p class="caption">RStudio: Console</p>
</div>
<p>Nejprve si vygenerujte účtenky. Budou sice trochu falešné, ale to nevadí. Do konsole napište:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="prvni-kroky.html#cb13-1" aria-hidden="true" tabindex="-1"></a>cena <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">1000</span>, <span class="at">sd =</span> <span class="dv">200</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<p>Odentrujte a nic se nestane. Vlastně stane. Pokud se podíváte doprava na záložku <em>Environment</em>, uvidíte tam tohle:</p>
<div class="figure">
<img src="img/rstudio-console-02.png" alt="" />
<p class="caption">RStudio: Výsledek přiřazení</p>
</div>
<p>Příkazem jste totiž vytvořili v prostředí R (environment) nový objekt <code>cena</code> a uložili jste do něj sto (skoro) náhodných čísel. Na všechny se můžete podívat příkazem:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="prvni-kroky.html#cb14-1" aria-hidden="true" tabindex="-1"></a>cena</span></code></pre></div>
<pre><code>##   [1] 1313.50  852.97 1299.17 1101.12 1265.29 1095.57  951.85 1046.22 1211.50
##  [10] 1344.75  924.75  912.20 1118.69 1129.49  838.11 1009.95 1325.39  623.74
##  [19] 1165.42 1108.97 1125.64 1160.80 1245.09 1347.24  845.40  840.87 1008.40
##  [28] 1246.16 1085.26  838.15 1067.85  912.95  791.18 1094.06  763.67  675.66
##  [37] 1064.96  944.25  821.20  897.11 1096.06 1046.28 1034.73 1424.97 1139.98
##  [46]  830.39 1125.03  806.31  680.22 1123.28 1171.31  993.00 1017.22 1355.22
##  [55] 1308.51 1008.59 1091.26 1046.76  926.73 1427.32  855.49  977.59  690.36
##  [64]  834.76 1039.68 1146.19  483.66  786.79 1142.82 1158.08  942.70  929.64
##  [73]  961.66 1026.85  828.12 1092.36 1053.81 1217.64  980.76 1050.63  716.56
##  [82]  902.69 1063.33  996.75  560.75 1059.34 1023.96  776.48 1124.79 1009.48
##  [91] 1094.83 1133.02  711.34  763.66  455.89  823.06  981.75 1255.46 1118.57
## [100] 1036.06</code></pre>
<p>což pak na konsoli vypadá nějak takhle:</p>
<div class="figure">
<img src="img/rstudio-console-03.png" alt="" />
<p class="caption">Výsledek příkazu cena</p>
</div>
<p>Teď vám to ale musím vysvětlit trochu podrobněji.</p>
<div id="objekty-proměnné" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Objekty (proměnné)<a href="prvni-kroky.html#objekty-proměnné" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Objekt jazyka R se chová podobně jako proměnná v jiných programovacích jazycích. Je to vlastně takový šuplík, do kterého si můžete ukládat nejrůznější hodnoty: čísla, textové řetězce, logické hodnoty (TRUE a FALSE čili pravda a nepravda) apod.</p>
<p>Oproti jiným programovacím jazykům je tu pár zvláštností:</p>
<ul>
<li>Do objektů se přiřazuje znaky <code>&lt;-</code> ale můžete si to zjednodušit klávesovou zkratkou <kbd>Alt</kbd>+<kbd>-</kbd> (Alt pomlčka).</li>
<li>Běžné objekty R jsou ve skutečnosti vektory. V jiných programovacích jazycích tomu obvykle odpovídá jednorozměrné pole. V praxi to znamená, že v číselném objektu nemusí být jen jedno číslo, ale může jich tam být moc. V našem příkladu jich je sto.</li>
<li>R s vektory automaticky i počítá. K vektoru pěti čísel tedy můžete přičíst jedno číslo (ve skutečnosti vektor s jedním číslem) a ono se automaticky přičte ke všem pěti.</li>
</ul>
<p>Kde se nám tam těch sto čísel vzalo? Získali jsme je funkcemi rnorm a round.</p>
</div>
<div id="funkce" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Funkce<a href="prvni-kroky.html#funkce" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Poučka praví, že když to existuje, je to objekt, a když to něco dělá, je to funkce. Můžete to brát i tak, že funkce je všechno, co má za svým jménem kulaté závorky. V závorkách mohou být tzv. parametry (někdy se jim říká argumenty; je to totéž), čili vstupní data, která chcete funkci předat. Funkce tyto parametry nějak zpracuje a vrátí výsledek. Vlastně úplně stejně, jako funkce v Excelu.</p>
<p>U názvů objektů i funkcí záleží na velikosti písmen. <code>Cena</code> je něco jiného než <code>cena</code>, tak pozor na to.</p>
<p><code>rnorm</code> je funkce, která vrací (skoro) náhodná čísla. Skoro jsem dal do závorky, protože vrácená čísla jsou náhodná v rámci normálního rozdělení (to je ta slavná Gaussova křivka), jehož podobu určíte parametry <code>mean</code> (průměr) a <code>sd</code> (směrodatná odchylka neboli standard deviation). Parametrem <code>n</code> navíc musíte určit, kolik těch čísel vlastně chcete.</p>
<p>Následující příkaz tedy vrátí vektor sta náhodných čísel z normální rozdělení s průměrem 1000 a směrodatnou odchylkou 200.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="prvni-kroky.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">1000</span>, <span class="at">sd =</span> <span class="dv">200</span>)</span></code></pre></div>
<pre><code>##   [1]  929.0765 1000.6752  859.2816  886.6108 1116.5020 1124.4933 1346.0254
##   [8]  896.4459  922.5844  982.7215 1377.8819 1210.0747 1020.1688  945.6196
##  [15]  622.1906 1092.2925  926.1255 1489.8044  968.1818  724.4719 1226.8542
##  [22] 1120.8863  993.3575 1042.0119  938.2927  940.2405  926.1872  891.3258
##  [29]  943.1418 1536.6807  843.5040 1010.8165 1174.7704  970.0647 1098.7614
##  [36] 1380.2648  813.7411  780.3754 1089.4714  789.2701 1407.1866  967.5550
##  [43]  792.6016 1072.0444 1575.0512  498.4162  907.9306 1330.4388  923.7552
##  [50] 1065.4183 1073.5677  693.4179 1061.5519 1043.8958 1087.0316 1130.4896
##  [57] 1050.1444  913.4825  547.6536 1267.7323  679.3644 1179.9681 1000.9827
##  [64]  896.5537 1057.9204  869.9295  611.9101  704.6135 1267.2886  977.8140
##  [71]  825.1688 1088.8081  899.9069  919.4206 1244.4318 1157.4180  862.8977
##  [78]  850.7509 1351.7395 1150.4249 1028.7327  760.0631  799.6216 1159.5267
##  [85]  957.4050 1264.6187 1581.0996 1202.3929  891.3217  896.7847  776.4908
##  [92]  944.6789 1095.6345 1151.2154 1382.6991 1041.3723 1095.5456  861.8127
##  [99]  972.0023  896.4335</code></pre>
<p>Klidně si ho zadejte párkrát do konzole s různými parametry, abyste viděli, jak se mění výsledek.</p>
<p>`round`` je funkce, která zaokrouhluje. První parametr je číselný vektor, který se má zaokrouhlit, a druhý parametr digits určuje, na kolik desetinných míst se má zaokrouhlit. Následující příkaz tedy zaokrouhlí číslo 1.145 na dvě desetinná místa:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="prvni-kroky.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fl">1.145</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 1.15</code></pre>
<p>První parametr funkce <code>round</code> se jmenuje <code>x</code>, ale první parametr funkce se často píše bez jména, protože jeho pořadí nejde poplést. Každopádně ale může napsat volání funkce i takto a výsledk bude stejný:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="prvni-kroky.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="at">x =</span> <span class="fl">1.145</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 1.15</code></pre>
<p>A teď už asi chápete – funkce <code>rnorm</code> vrátí sto čísel s hodně desetinnými čísly, a proto jste její výsledek ještě poslali funkci <code>round</code>, která celý vektor (tj. všech sto čísel) zaokrouhlila na dvě desetinná místa. V jiném programovacím jazyce byste na to potřebovali dost složité výpočty v cyklech, v R stačí tohle:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="prvni-kroky.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">1000</span>, <span class="at">sd =</span> <span class="dv">200</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##   [1]  998.64  858.92  988.41  999.80  877.06  878.48 1045.54  988.54  913.05
##  [10]  787.58  890.02 1092.86 1175.63 1195.52 1053.57 1130.12  632.81 1242.16
##  [19]  946.23 1047.00 1430.02 1175.37 1325.02  810.88  953.92 1019.69 1030.89
##  [28] 1190.11  947.27  719.56 1169.41  751.88 1090.25  730.14 1081.96  801.48
##  [37]  955.72  746.86 1124.09 1248.23  850.71  880.58 1175.49 1243.45  844.21
##  [46]  841.73 1131.26 1267.94  808.03  799.18  991.35  770.40  967.60 1107.80
##  [55] 1091.85 1015.27 1125.12 1055.12 1418.28  880.04 1360.52 1198.53 1140.06
##  [64]  540.14  770.72  790.08  955.00  677.85  741.49  991.23  804.38  704.72
##  [73] 1250.56 1105.98 1051.01 1200.12 1168.22  984.14  946.48 1064.15 1220.24
##  [82]  834.88 1470.90  916.82 1385.60 1146.37  589.79  931.74  927.40  898.59
##  [91] 1200.78 1114.71 1185.21  981.70 1287.15 1029.75  902.63  869.05 1294.75
## [100]  751.73</code></pre>
<p>Mimochodem, všimli jste si v předešlých příkladech těch čísel v hranatých závorkách? Protože se v příkladech vypisují jako výsledky vektory (všechny základní, tzv. atomické typy jsou v R vektory), R vám těmi čísly v hranatých závorkách říká, na jaké pozici ve vektoru daná hodnota je.</p>
<p>A hranaté závorky jdou i použít pro adresování konkrétního prvku vektoru. Třeba tohle zobrazí z vytvořeného vektoru <code>cena</code> jenom pátý prvek:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="prvni-kroky.html#cb24-1" aria-hidden="true" tabindex="-1"></a>cena[<span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1] 1265.29</code></pre>
<p>a tohle pátý až desátý:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="prvni-kroky.html#cb26-1" aria-hidden="true" tabindex="-1"></a>cena[<span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>## [1] 1265.29 1095.57  951.85 1046.22 1211.50 1344.75</code></pre>
<p>Chtěli jsme ještě účtenky sečíst, že? Je to hračka:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="prvni-kroky.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(cena)</span></code></pre></div>
<pre><code>## [1] 100875.1</code></pre>
<p>Zajímá vás, kolik dělá celková tržba bez DPH?</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="prvni-kroky.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(cena <span class="sc">/</span> <span class="dv">121</span> <span class="sc">*</span> <span class="dv">100</span>)</span></code></pre></div>
<pre><code>## [1] 83367.83</code></pre>
<p>případně:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="prvni-kroky.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(cena) <span class="sc">/</span> <span class="dv">121</span> <span class="sc">*</span> <span class="dv">100</span></span></code></pre></div>
<pre><code>## [1] 83367.83</code></pre>
<p>Obojí by vám mělo dát stejný výsledek. V prvním případě se ale nejprve vydělí každý jednotlivý prvek vektoru a pak se celý vektor sečte, kdežto v druhém případě se celý vektor nejprve sečte a pak teprve vydělí.</p>
<p>Zajímá vás rozložení ceny zobrazené v histogramu?</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="prvni-kroky.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(cena)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>Zobrazí se vám na panelu <em>Plot</em> vpravo (váš bude vypadat trochu jinak).</p>
<p>Tím jste poznali další dvě funkce (<code>sum</code> a <code>hist</code>). Za chvíli vám ukážu, jak totéž udělat skriptem a v R Markdownu, ale nejdřív pár slov k nápovědě.</p>
</div>
<div id="integrovaná-nápověda" class="section level3 hasAnchor" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Integrovaná nápověda<a href="prvni-kroky.html#integrovaná-nápověda" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R má přímo v sobě zabudovanou nápovědu ke každé funkci. Ta se projevuje jednak tím, že když začnete psát název funkce, po pár znacích se začnou nabízet funkce, jejichž název těmi znaky začíná a v bublině se objeví stručný popis. Tuto nápovědu lze případně vynutit klávesovou kombinací <kbd>Ctrl</kbd>+<kbd>Space</kbd>.</p>
<div class="figure">
<img src="img/rstudio-napoveda-01.png" alt="" />
<p class="caption">Nápověda při psaní názvu funkce</p>
</div>
<p>Pokud máte funkci napsanou i se závorkami, <kbd>Ctrl</kbd>+<kbd>Space</kbd> vám napoví možné parametry.</p>
<div class="figure">
<img src="img/rstudio-napoveda-02.png" alt="" />
<p class="caption">Nápověda při psaní názvu funkce</p>
</div>
<p>Můžete též na konzoli zadat příkaz příkaz tvořený otazníkem a názvem funkce, např. <code>?rnorm</code>, a pak se vám otevře kompletní nápověda na panelu <em>Help</em> vpravo.</p>
<div class="figure">
<img src="img/rstudio-napoveda-03.png" alt="" />
<p class="caption">Nápověda při psaní názvu funkce</p>
</div>
<p>A konečně můžete s kurzorem na názvu funkce stisknout <kbd>F1</kbd> a dostanete opět kompletní nápovědu v panelu <em>Help</em>.</p>
<p>Při práci s R tedy nemusíte skoro googlit. Stačí si pamatovat alespoň přibližné názvy funkcí.</p>
</div>
</div>
<div id="práce-se-skripty" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Práce se skripty<a href="prvni-kroky.html#práce-se-skripty" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Práce v konsoli je sice flexibilní, ale na víc než pár příkazů dost nepraktická. Když uděláte chybu, můžete se sice šipkami nahoru a dolů pohybovat po historii příkazů a opravovat je, ale není to ono. Chyby se mnohem lépe opravují ve skriptech.</p>
<p>Z menu <em>File → New File</em> vyberte <em>R Script</em> a vlevo nahoře se vám otevře editor skriptů. Do něj si vložte všechny příkazy, které jste předtím zadali postupně do konsole. Nemusíte to ale dělat ručně – podívejte se vpravo na záložku History a vida, jsou tam, že? Vyberte ty správné a tlačítkem To Source je přesuňte do skriptu. Okno RStudia by pam mělo vypadat nějak takto:</p>
<div class="figure">
<img src="img/rstudio-script-01.png" alt="" />
<p class="caption">Skript v RStudiu</p>
</div>
<p>Když nyní na kterémkoli řádku stisknete <kbd>Ctrl</kbd>+<kbd>Enter</kbd>, celý řádek se vykoná stejně, jako kdybyste ho zadali na konzoli. Můžete i klávesou Shift vybrat víc řádků a pak se po <kbd>Ctrl</kbd>+<kbd>Enter</kbd> vykonají všechny. A konečně můžete tlačítkem <em>Source</em> nad editorem vykonat celý skript. Po vykonání celého skriptu by mělo okno RStudia vypadat nějak takto:</p>
<div class="figure">
<img src="img/rstudio-script-02.png" alt="" />
<p class="caption">RStudio po vykonání celého skriptu</p>
</div>
<p>Nezapomeňte si ale celý skript uložit pod nějakým vhodným jménem (třeba <code>prvni-skript</code>). Měl by se vám uložit do složky projektu a ke jménu se automaticky připojí přípona R.</p>
<div id="úprava-skriptu" class="section level3 hasAnchor" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Úprava skriptu<a href="prvni-kroky.html#úprava-skriptu" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Hlavní výhoda skriptu spočívá v tom, že jde snadno upravit a pak celý znovu spustit. Vyzkoušejte si to. Hned v prvním řádku změňte <code>rnorm</code> za <code>runif</code> a odstraňte této funkci parametry <code>mean</code> a <code>sd</code>, takže zbude jen <code>n</code>.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="prvni-kroky.html#cb35-1" aria-hidden="true" tabindex="-1"></a>cena <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">runif</span>(<span class="at">n =</span> <span class="dv">100</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<p>Když teď celý skript znovu sputíte příkazem <em>Source</em> (nebo klávesovou zkratkou <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>S</kbd>), poznáte, co se změnilo?</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="prvni-kroky.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(cena)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>Ano, změnil se histogram.</p>
<p>Funkce <code>rnorm</code> totiž vybírá náhodná čísla z normálního rozložení (<strong>r</strong>andom <strong>norm</strong>al distribution) a histogram má proto tvar známe gaussovy křivky – čísla blíže průměru se vyskytnou pravděpodobněji než čísla dál od průměru. Funkce <code>runif</code> (<strong>r</strong>andom <strong>unif</strong>orm distribution) naproti tomu vybírá náhodná čísla z rovnoměrného rozdělení, takže pravděpodobnost zastoupení všech čísel mezi nulou a jednou je stejná.</p>
</div>
</div>
<div id="r-markdown" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> R Markdown<a href="prvni-kroky.html#r-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Skripty jsou praktické, ale mají dvě nevýhody:</p>
<ul>
<li>Když nechcete provést celý skript najednou, špatně se v nich hledá část, kterou chcete spustit.</li>
<li>Výstup není moc přehledný. Textový výstup se ne moc hezky zobrazí v konzoli, grafy na panelu <em>Plots</em>.</li>
</ul>
<p>Obě tyto nevýhody odstraňuje R Markdown.</p>
<div id="co-je-r-markdown" class="section level3 hasAnchor" number="3.5.1">
<h3><span class="header-section-number">3.5.1</span> Co je R Markdown<a href="prvni-kroky.html#co-je-r-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="základní-markdown" class="section level4 hasAnchor" number="3.5.1.1">
<h4><span class="header-section-number">3.5.1.1</span> Základní Markdown<a href="prvni-kroky.html#základní-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Samotný <a href="https://cs.wikipedia.org/wiki/Markdown">Markdown</a> možná znáte. Je to jednoduchý značkovací jazyk, kterým jdou v čistě textovém formátu vyznačit základní strukturání a formátovací prvky – nadpisy, odstavce, odrážky, odkazy, tučný text apod. Z toho pak jde vygenerovat výstupy v různých formátech: nejčastěji v HTML, ale klidně i PDF, Word atd.</p>
<p>Text v Markdownu vypadá např. takto:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb37-1"><a href="prvni-kroky.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Tohle je nadpis 1. úrovně</span></span>
<span id="cb37-2"><a href="prvni-kroky.html#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="prvni-kroky.html#cb37-3" aria-hidden="true" tabindex="-1"></a>Tohle je běžný odstavec. Víc odstavců je od sebe odděleno dvěma Entry čili prázdným řádkem.</span>
<span id="cb37-4"><a href="prvni-kroky.html#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="prvni-kroky.html#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="fu">## Tohle je nadpis 2. úrovně</span></span>
<span id="cb37-6"><a href="prvni-kroky.html#cb37-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-7"><a href="prvni-kroky.html#cb37-7" aria-hidden="true" tabindex="-1"></a>Tohle je příklad <span class="co">[</span><span class="ot">odkazu v textu</span><span class="co">](https://example.com)</span>. A tohle je příklad odrážek:</span>
<span id="cb37-8"><a href="prvni-kroky.html#cb37-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-9"><a href="prvni-kroky.html#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>první odražka,</span>
<span id="cb37-10"><a href="prvni-kroky.html#cb37-10" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>druhé odrážka,</span>
<span id="cb37-11"><a href="prvni-kroky.html#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>třetí odrážka.</span>
<span id="cb37-12"><a href="prvni-kroky.html#cb37-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-13"><a href="prvni-kroky.html#cb37-13" aria-hidden="true" tabindex="-1"></a>Jdou udělat i číslované body, které se automaticky očíslují podle pořadí:</span>
<span id="cb37-14"><a href="prvni-kroky.html#cb37-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-15"><a href="prvni-kroky.html#cb37-15" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>První bod.</span>
<span id="cb37-16"><a href="prvni-kroky.html#cb37-16" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Druhý bod.</span>
<span id="cb37-17"><a href="prvni-kroky.html#cb37-17" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Poslední bod.</span></code></pre></div>
<p>Jak vidíte, docela dobře se píše a dobře se i čte, i když není převedený (vyrenderovaný) do HTML. Ale když se převede, je to výsledek docela hezký:</p>
<div class="figure">
<img src="img/markdown-01.png" alt="" />
<p class="caption">Příklad převedeného Mardownu</p>
</div>
</div>
<div id="r-markdown-1" class="section level4 hasAnchor" number="3.5.1.2">
<h4><span class="header-section-number">3.5.1.2</span> R Markdown<a href="prvni-kroky.html#r-markdown-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>R Mardown je Markdown, do kterého jsou zamíchané kusy eRkového kódu. Vypadá nějak takhle:</p>
<div class="figure">
<img src="img/rmarkdown-01.png" alt="" />
<p class="caption">Příklad R Markdownu</p>
</div>
<p>Vyzkoušejte si nyní R Markdown sami. Nejprve si založte nový soubor: Z menu <em>File → New File</em> vyberte <em>R Notebook</em>. Objeví se vám editor s předvyplněným vzorovým obsahem. Ten celý zrušte (Ctrl+A, Del) a zkopírujte do něj tohle:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb38-1"><a href="prvni-kroky.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb38-2"><a href="prvni-kroky.html#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> &quot;Můj první R Notebook&quot;</span></span>
<span id="cb38-3"><a href="prvni-kroky.html#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="an">output:</span><span class="co"> html_notebook</span></span>
<span id="cb38-4"><a href="prvni-kroky.html#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb38-5"><a href="prvni-kroky.html#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="prvni-kroky.html#cb38-6" aria-hidden="true" tabindex="-1"></a>Toto je příklad <span class="co">[</span><span class="ot">R Markdown</span><span class="co">](http://rmarkdown.rstudio.com)</span> zápisníku (notebook). Začíná nahoře metadaty, které zde udávají jen titulek a formát výstupu. Metadata jsou ohraničena řádky tvořenými třemi pomlčkami. Pak následuje normální Markdown.</span>
<span id="cb38-7"><a href="prvni-kroky.html#cb38-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-8"><a href="prvni-kroky.html#cb38-8" aria-hidden="true" tabindex="-1"></a>Za tímto odstavcem je blok eRkového kódu, kterému se říká *chunk* a já mu budu říkat *blok*.</span>
<span id="cb38-9"><a href="prvni-kroky.html#cb38-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-10"><a href="prvni-kroky.html#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-11"><a href="prvni-kroky.html#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="in">cena &lt;- round(rnorm(n = 100, mean = 1000, sd = 200), digits = 2)</span></span>
<span id="cb38-12"><a href="prvni-kroky.html#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="in">sum(cena)</span></span>
<span id="cb38-13"><a href="prvni-kroky.html#cb38-13" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-14"><a href="prvni-kroky.html#cb38-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-15"><a href="prvni-kroky.html#cb38-15" aria-hidden="true" tabindex="-1"></a>Pokud blok spustíte zelenou šipečkou na jeho pravém horním okraji nebo klávesovou zkratkou Ctrl+Shift+Enter, provede se a zobrazí výstup přímo pod sebou.</span></code></pre></div>
<p>Výsledek bude vypadt jako na předešlém obrázku. Nyní můžete podle instrukcí vykonat jediný blok kódu, který tam zatím máte, a pod blkoem se vám zobrazí součet ceny.</p>
<p>A můžete i celý soubor převést do HTML a prohládnout si ho v celé kráse. Uděláte to příkazem <em>Preview</em> z toolbaru nad editorem, ale před tím ještě musíte soubor uložit, třeba pod jménem <code>prvni-notebook</code>. Ke jménu se automaticky připojí přípona Rmd.</p>
<p>Celý výsledek se zobrazí v panelu <em>Viewer</em> vpravo:</p>
<div class="figure">
<img src="img/rmarkdown-02.png" alt="" />
<p class="caption">Náhled vykresleného R Mardownu</p>
</div>
<p>Už jste pochopili, v čem jsem napsal tenhle článek? Ano, v RStudiu v R Markdownu :-)</p>
<p>Ze všech tří způsobů používání R (konzole, skripty, R Markdown) používám R Markdown pro běžné analýzy nejčastěji. Píšu si v něm postup, eRkový kód i poučení z výsledků. Když se pak později k analýze vrátím, třeba proto, že chci pro jiného klienta udělat nějakou podobnou, krásně vidím, jak jsem postupoval a co a proč jsem udělal. Už tohle je pro mě obrovská výhoda oproti excelové tabulce, ve které se už po pár týdnech nevyznám a musím znovu pracně zkoumat, co tam je, proč to tam a jak to vlastně funguje.</p>
<p>A totéž doporučuji i vám: klidně pro teď zapoměňte, že nějaká konzole a skripty vůbec existují a používejte na všechno R Markdown.</p>
</div>
</div>
</div>
<div id="z-téhle-kapitoly-si-pamatujte" class="section level2 hasAnchor" number="3.6">
<h2><span class="header-section-number">3.6</span> Z téhle kapitoly si pamatujte<a href="prvni-kroky.html#z-téhle-kapitoly-si-pamatujte" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="r-markdown-2" class="section level3 hasAnchor" number="3.6.1">
<h3><span class="header-section-number">3.6.1</span> R Markdown<a href="prvni-kroky.html#r-markdown-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Zvykněte si na R Markdown jako základní způsob práce s R. Konzole se hodí pro pár pomocných příkazů, nebo abyste si vyzkoušeli, jak která funkce funguje. Skripty se hodí pro dávkové zpracování bez interaktivity, když přesně víte, co a jak chcete udělat. Také se jimi definují nové funkce a píšou balíčky. Pro všechno ostatní je tu R Markdown. Když si budete cokoli z této knihy zkoušet, založte si na to R Notebook nebo R Markdown Document – ono je to skoro totéž.</p>
<p>Bude se vám hodit pár klávesovýc zkratek:</p>
<table>
<thead>
<tr class="header">
<th align="left">Akce</th>
<th align="left">Windows &amp; Linux</th>
<th align="left">Mac</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Vlož blok kódu (chunk)</td>
<td align="left"><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>I</kbd></td>
<td align="left"><kbd>Command</kbd>+<kbd>Option</kbd>+<kbd>I</kbd></td>
</tr>
<tr class="even">
<td align="left">Vlož přiřazení (znaky &lt;-)</td>
<td align="left"><kbd>Alt</kbd>+<kbd>-</kbd></td>
<td align="left"><kbd>Option</kbd>+<kbd>-</kbd></td>
</tr>
<tr class="odd">
<td align="left">Proveď řádek kódu s kurzorem</td>
<td align="left"><kbd>Ctrl</kbd>+<kbd>Enter</kbd></td>
<td align="left"><kbd>Command</kbd>+<kbd>Enter</kbd></td>
</tr>
<tr class="even">
<td align="left">Proveď blok kódu s kurzorem</td>
<td align="left"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Enter</kbd></td>
<td align="left"><kbd>Command</kbd>+<kbd>Shift</kbd>+<kbd>Enter</kbd></td>
</tr>
<tr class="odd">
<td align="left">Proveď všechny bloky v souboru</td>
<td align="left"><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>R</kbd></td>
<td align="left"><kbd>Command</kbd>+<kbd>Option</kbd>+<kbd>R</kbd></td>
</tr>
<tr class="even">
<td align="left">Proveď všechny bloky nad kurzorem</td>
<td align="left"><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>P</kbd></td>
<td align="left"><kbd>Command</kbd>+<kbd>Option</kbd>+<kbd>P</kbd></td>
</tr>
<tr class="odd">
<td align="left">Zobraz celý dokument v HTML</td>
<td align="left"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>K</kbd></td>
<td align="left"><kbd>Command</kbd>+<kbd>Shift</kbd>+<kbd>K</kbd></td>
</tr>
<tr class="even">
<td align="left">Jdi na další blok nebo titulek</td>
<td align="left"><kbd>Ctrl</kbd>+<kbd>PgDown</kbd></td>
<td align="left"><kbd>Command</kbd>+<kbd>PgDown</kbd></td>
</tr>
<tr class="odd">
<td align="left">Jdi na předchozí blok nebo titulek</td>
<td align="left"><kbd>Ctrl</kbd>+<kbd>PgUp</kbd></td>
<td align="left"><kbd>Command</kbd>+<kbd>PgUp</kbd></td>
</tr>
<tr class="even">
<td align="left">Nápověda k funkci s kurzorem</td>
<td align="left"><kbd>F1</kbd></td>
<td align="left"><kbd>F1</kbd></td>
</tr>
</tbody>
</table>
<p>Pokud si je nechcete pamatovat, všechny mají i své tlačítko buď na toolbaru nad editorem, nebo přímo v pravém horním rohu každého bloku kódu. Funkce tlačítka se vám zobrazí po najetí myši.</p>
</div>
<div id="vektory" class="section level3 hasAnchor" number="3.6.2">
<h3><span class="header-section-number">3.6.2</span> Vektory<a href="prvni-kroky.html#vektory" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Zatímco v Excelu máte v jedné buňce jedno číslo (nebo jeden text, jedno datum apod.), objekt základního typu (číslo, text, logická hodnota) v R je vždy vektor. To znamená, že obsahuje uspořádanou řadu hodnot daného typu. Vektor může mít délku 1, pak obsahuje jen jednu hodnotu, ale taky třeba milion, a pak obsahhuje milion hodnot.</p>
<p>S vektory počítají i běžné operace. Když k vektoru s deseti čísly přičtete jiný vektor s deseti čísly, bude výsledek opat vektor s deseti čísly, ve kterém se sečte první s prvním, druhé s druhým atd. Pokud ale k vektoru s deseti čísly přičtete vektor s jedním číslem, dojde k tzv. recyklaci druhého vektoru, což znamená, že se číslo z druhého vektoru postupně přičte ke všem číslům prvního wektoru.</p>
<p>Ukážu to raději na příkladu (funkce <code>c</code> tvoří vektory):</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="prvni-kroky.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 11 22 33</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="prvni-kroky.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>) <span class="sc">+</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>## [1] 11 21 31</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="prvni-kroky.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## Warning in c(10, 20, 30) + c(1, 2): longer object length is not a multiple of
## shorter object length</code></pre>
<pre><code>## [1] 11 22 31</code></pre>
<p>Vidíte, že poslední příklad sice upozorní na možnou chybu, ale provede se podle pravidla recyklace.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="prvni-kroky.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 11 22 31 42</code></pre>
<p>Zde na chybo neupozorní, protože se druhý vektor zrecykluje přesně dvakrát.</p>
</div>
<div id="funkce-1" class="section level3 hasAnchor" number="3.6.3">
<h3><span class="header-section-number">3.6.3</span> Funkce<a href="prvni-kroky.html#funkce-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Funkce fungují úplně stejně jako v Excelu. Nějak se jmenují a v závorce mají parametry. I když žádné parametry nemají, musí za nimi být prázdná závorka. Funkce stejně jako v Excelu vrátí nějakou hodnotu a nikdy nezmění hodnotu parametrů. Pár rozdílů tu ale přeci jenom je:</p>
<ul>
<li>V názvech funkcí záleží na velikosti písmen. <code>View</code> a <code>view</code> jsou dvě různé funkce.</li>
<li>Parametry jsou pojmenované, takže jdou zapisovat způsobem <code>round(x = 1.145, digits = 2)</code>. Pokud ale dodržím závazné pořadí parametrů, mohu napsat i <code>round(1.145, 2)</code> a dostanu stejný výsledek.</li>
<li>Funkce umí pracovat s vektory. To znamená, že např. funkce <code>round</code> umí zakrouhoit mnoho různých čísel naráz.</li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="instalace-a-nastaveni.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="jak-dostat-data-do-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
