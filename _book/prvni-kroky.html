<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 První kroky v R a RStudiu | Od Excelu k R</title>
  <meta name="description" content="Rychlokurz R pro začátečníky, kteří zatím používali Excel nebo Google Sheets." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="3 První kroky v R a RStudiu | Od Excelu k R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Rychlokurz R pro začátečníky, kteří zatím používali Excel nebo Google Sheets." />
  <meta name="github-repo" content="MarekProkop/excel-r" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 První kroky v R a RStudiu | Od Excelu k R" />
  
  <meta name="twitter:description" content="Rychlokurz R pro začátečníky, kteří zatím používali Excel nebo Google Sheets." />
  

<meta name="author" content="Marek Prokop" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="instalace-a-nastaveni.html"/>
<link rel="next" href="jak-dostat-data-do-r.html"/>
<script src="libs/header-attrs-2.13/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Od Excelu k R</a></li>
<li class="divider"></li>
<li><a href="index.html#o-knize">O knize<span></span></a>
<ul>
<li><a href="index.html#čeho-chci-spolu-s-vámi-dosáhnout">Čeho chci spolu s vámi dosáhnout<span></span></a></li>
<li><a href="index.html#zpětná-vazba">Zpětná vazba<span></span></a></li>
<li><a href="index.html#o-autorovi">O autorovi<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="proc-r.html"><a href="proc-r.html"><i class="fa fa-check"></i><b>1</b> Proč jsem vyměnil Excel za R<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="proc-r.html"><a href="proc-r.html#co-je-r-a-rstudio"><i class="fa fa-check"></i><b>1.1</b> Co je R a RStudio<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="proc-r.html"><a href="proc-r.html#pro-koho-je-r-vhodné"><i class="fa fa-check"></i><b>1.2</b> Pro koho je R vhodné<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="proc-r.html"><a href="proc-r.html#kdo-by-se-do-r-rozhodně-neměl-pouštět"><i class="fa fa-check"></i><b>1.3</b> Kdo by se do R rozhodně neměl pouštět<span></span></a></li>
<li class="chapter" data-level="1.4" data-path="proc-r.html"><a href="proc-r.html#co-vám-r-ve-srovnání-s-excelem-přinese"><i class="fa fa-check"></i><b>1.4</b> Co vám R ve srovnání s Excelem přinese<span></span></a></li>
<li class="chapter" data-level="1.5" data-path="proc-r.html"><a href="proc-r.html#proč-zrovna-r-a-ne-třeba-python"><i class="fa fa-check"></i><b>1.5</b> Proč zrovna R a ne třeba Python<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html"><i class="fa fa-check"></i><b>2</b> Instalace a nastavení<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html#cloud-nebo-instalace"><i class="fa fa-check"></i><b>2.1</b> Cloud nebo instalace<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html#instalace-r"><i class="fa fa-check"></i><b>2.2</b> Instalace R<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html#instalace-rstudia"><i class="fa fa-check"></i><b>2.3</b> Instalace RStudia<span></span></a></li>
<li class="chapter" data-level="2.4" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html#pokud-už-r-a-rstudio-máte-a-trochu-znáte"><i class="fa fa-check"></i><b>2.4</b> Pokud už R a RStudio máte (a trochu znáte)<span></span></a></li>
<li class="chapter" data-level="2.5" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html#nastavení-rstudia"><i class="fa fa-check"></i><b>2.5</b> Nastavení RStudia<span></span></a></li>
<li class="chapter" data-level="2.6" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html#instalace-balíčků"><i class="fa fa-check"></i><b>2.6</b> Instalace balíčků<span></span></a></li>
<li class="chapter" data-level="2.7" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html#projekty"><i class="fa fa-check"></i><b>2.7</b> Projekty<span></span></a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="instalace-a-nastaveni.html"><a href="instalace-a-nastaveni.html#založte-si-cvičný-projekt"><i class="fa fa-check"></i><b>2.7.1</b> Založte si cvičný projekt<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="prvni-kroky.html"><a href="prvni-kroky.html"><i class="fa fa-check"></i><b>3</b> První kroky v R a RStudiu<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="prvni-kroky.html"><a href="prvni-kroky.html#excel-vs.-r"><i class="fa fa-check"></i><b>3.1</b> Excel vs. R<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="prvni-kroky.html"><a href="prvni-kroky.html#tři-způsoby-práce-s-r"><i class="fa fa-check"></i><b>3.2</b> Tři způsoby práce s R<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="prvni-kroky.html"><a href="prvni-kroky.html#interaktivní-práce-s-konsolí"><i class="fa fa-check"></i><b>3.3</b> Interaktivní práce s konsolí<span></span></a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="prvni-kroky.html"><a href="prvni-kroky.html#objekty-proměnné"><i class="fa fa-check"></i><b>3.3.1</b> Objekty (proměnné)<span></span></a></li>
<li class="chapter" data-level="3.3.2" data-path="prvni-kroky.html"><a href="prvni-kroky.html#funkce"><i class="fa fa-check"></i><b>3.3.2</b> Funkce<span></span></a></li>
<li class="chapter" data-level="3.3.3" data-path="prvni-kroky.html"><a href="prvni-kroky.html#integrovaná-nápověda"><i class="fa fa-check"></i><b>3.3.3</b> Integrovaná nápověda<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="prvni-kroky.html"><a href="prvni-kroky.html#práce-se-skripty"><i class="fa fa-check"></i><b>3.4</b> Práce se skripty<span></span></a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="prvni-kroky.html"><a href="prvni-kroky.html#úprava-skriptu"><i class="fa fa-check"></i><b>3.4.1</b> Úprava skriptu<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="prvni-kroky.html"><a href="prvni-kroky.html#r-markdown"><i class="fa fa-check"></i><b>3.5</b> R Markdown<span></span></a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="prvni-kroky.html"><a href="prvni-kroky.html#co-je-r-markdown"><i class="fa fa-check"></i><b>3.5.1</b> Co je R Markdown<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="prvni-kroky.html"><a href="prvni-kroky.html#z-téhle-kapitoly-si-pamatujte"><i class="fa fa-check"></i><b>3.6</b> Z téhle kapitoly si pamatujte<span></span></a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="prvni-kroky.html"><a href="prvni-kroky.html#r-markdown-2"><i class="fa fa-check"></i><b>3.6.1</b> R Markdown<span></span></a></li>
<li class="chapter" data-level="3.6.2" data-path="prvni-kroky.html"><a href="prvni-kroky.html#vektory"><i class="fa fa-check"></i><b>3.6.2</b> Vektory<span></span></a></li>
<li class="chapter" data-level="3.6.3" data-path="prvni-kroky.html"><a href="prvni-kroky.html#funkce-1"><i class="fa fa-check"></i><b>3.6.3</b> Funkce<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html"><i class="fa fa-check"></i><b>4</b> Jak dostat data do R<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#co-myslím-daty"><i class="fa fa-check"></i><b>4.1</b> Co myslím daty<span></span></a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#data-frame"><i class="fa fa-check"></i><b>4.1.1</b> Data frame<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#ruční-vstup-dat"><i class="fa fa-check"></i><b>4.2</b> Ruční vstup dat<span></span></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#funkce-data.frame"><i class="fa fa-check"></i><b>4.2.1</b> Funkce data.frame<span></span></a></li>
<li class="chapter" data-level="4.2.2" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#funkce-tibble"><i class="fa fa-check"></i><b>4.2.2</b> Funkce tibble<span></span></a></li>
<li class="chapter" data-level="4.2.3" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#funkce-tribble"><i class="fa fa-check"></i><b>4.2.3</b> Funkce tribble<span></span></a></li>
<li class="chapter" data-level="4.2.4" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#co-když-chci-něco-opravit"><i class="fa fa-check"></i><b>4.2.4</b> Co když chci něco opravit?<span></span></a></li>
<li class="chapter" data-level="4.2.5" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#funkce-edit"><i class="fa fa-check"></i><b>4.2.5</b> Funkce edit<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#chci-si-jen-rychle-něco-vyzkoušet"><i class="fa fa-check"></i><b>4.3</b> Chci si jen rychle něco vyzkoušet<span></span></a></li>
<li class="chapter" data-level="4.4" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#práce-s-csv-soubory"><i class="fa fa-check"></i><b>4.4</b> Práce s CSV soubory<span></span></a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#funkce-write_csv"><i class="fa fa-check"></i><b>4.4.1</b> Funkce write_csv<span></span></a></li>
<li class="chapter" data-level="4.4.2" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#funkce-read_csv"><i class="fa fa-check"></i><b>4.4.2</b> Funkce read_csv<span></span></a></li>
<li class="chapter" data-level="4.4.3" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#interaktivní-import-dat-v-rstudiu"><i class="fa fa-check"></i><b>4.4.3</b> Interaktivní import dat v Rstudiu<span></span></a></li>
<li class="chapter" data-level="4.4.4" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#načtení-csv-z-webu"><i class="fa fa-check"></i><b>4.4.4</b> Načtení CSV z webu<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#data-na-webové-stránce"><i class="fa fa-check"></i><b>4.5</b> Data na webové stránce<span></span></a></li>
<li class="chapter" data-level="4.6" data-path="jak-dostat-data-do-r.html"><a href="jak-dostat-data-do-r.html#data-z-jiných-zdrojů"><i class="fa fa-check"></i><b>4.6</b> Data z jiných zdrojů<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html"><i class="fa fa-check"></i><b>5</b> Manipulace s daty<span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html#průzkum-dat-a-výběr-sloupců"><i class="fa fa-check"></i><b>5.1</b> Průzkum dat a výběr sloupců<span></span></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html#prázdné-hodnoty"><i class="fa fa-check"></i><b>5.1.1</b> Prázdné hodnoty<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html#výběr-sloupců"><i class="fa fa-check"></i><b>5.2</b> Výběr sloupců<span></span></a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html#funkcionální-princip"><i class="fa fa-check"></i><b>5.2.1</b> Funkcionální princip<span></span></a></li>
<li class="chapter" data-level="5.2.2" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html#pipes-trubky-fajfky"><i class="fa fa-check"></i><b>5.2.2</b> Pipes (trubky, fajfky)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html#filtrování-neboli-výběr-řádků"><i class="fa fa-check"></i><b>5.3</b> Filtrování neboli výběr řádků<span></span></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html#funkce-filter"><i class="fa fa-check"></i><b>5.3.1</b> Funkce <code>filter</code><span></span></a></li>
<li class="chapter" data-level="5.3.2" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html#další-funkce-pro-výběr-řádků"><i class="fa fa-check"></i><b>5.3.2</b> Další funkce pro výběr řádků<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html#řazení-řádků"><i class="fa fa-check"></i><b>5.4</b> Řazení řádků<span></span></a></li>
<li class="chapter" data-level="5.5" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html#odvozování-nových-sloupců"><i class="fa fa-check"></i><b>5.5</b> Odvozování nových sloupců<span></span></a></li>
<li class="chapter" data-level="5.6" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html#seskupování-řádků-a-agregace"><i class="fa fa-check"></i><b>5.6</b> Seskupování řádků a agregace<span></span></a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html#funkce-sumarise"><i class="fa fa-check"></i><b>5.6.1</b> funkce <code>sumarise</code><span></span></a></li>
<li class="chapter" data-level="5.6.2" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html#funkce-group_by"><i class="fa fa-check"></i><b>5.6.2</b> Funkce <code>group_by</code><span></span></a></li>
<li class="chapter" data-level="5.6.3" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html#funkce-count"><i class="fa fa-check"></i><b>5.6.3</b> Funkce <code>count</code><span></span></a></li>
<li class="chapter" data-level="5.6.4" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html#kombinace-group_by-s-dalšími-funkcemi-pro-manipulaci-dat"><i class="fa fa-check"></i><b>5.6.4</b> Kombinace <code>group_by</code> s dalšími funkcemi pro manipulaci dat<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="manipulace-s-daty.html"><a href="manipulace-s-daty.html#tahák-s-dalšími-funkcemi"><i class="fa fa-check"></i><b>5.7</b> Tahák s dalšími funkcemi<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="grafy.html"><a href="grafy.html"><i class="fa fa-check"></i><b>6</b> Grafy a vizualizace<span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="grafy.html"><a href="grafy.html#histogram"><i class="fa fa-check"></i><b>6.1</b> Histogram<span></span></a></li>
<li class="chapter" data-level="6.2" data-path="grafy.html"><a href="grafy.html#scatter-plot-neboli-bodový-graf"><i class="fa fa-check"></i><b>6.2</b> Scatter plot neboli bodový graf<span></span></a></li>
<li class="chapter" data-level="6.3" data-path="grafy.html"><a href="grafy.html#sloupečky"><i class="fa fa-check"></i><b>6.3</b> Sloupečky<span></span></a></li>
<li class="chapter" data-level="6.4" data-path="grafy.html"><a href="grafy.html#čarový-graf-a-timeline"><i class="fa fa-check"></i><b>6.4</b> Čarový graf a timeline<span></span></a></li>
<li class="chapter" data-level="6.5" data-path="grafy.html"><a href="grafy.html#boxplot"><i class="fa fa-check"></i><b>6.5</b> Boxplot<span></span></a></li>
<li class="chapter" data-level="6.6" data-path="grafy.html"><a href="grafy.html#koláčový-graf"><i class="fa fa-check"></i><b>6.6</b> Koláčový graf<span></span></a></li>
<li class="chapter" data-level="6.7" data-path="grafy.html"><a href="grafy.html#tahák"><i class="fa fa-check"></i><b>6.7</b> Tahák<span></span></a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Od Excelu k R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="první-kroky-v-r-a-rstudiu" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> První kroky v R a RStudiu<a href="prvni-kroky.html#první-kroky-v-r-a-rstudiu" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Nebudu vám tajit, že se způsob práce v R od Excelu na první pohled dost liší. Excel vám naservíruje připravený rastr buněk, do kterých můžete rovnou psát hodnoty a vzorce. V R naopak začínáte s prázdnou plochou, a co si sami neuděláte, to nemáte.</p>
<div id="excel-vs.-r" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Excel vs. R<a href="prvni-kroky.html#excel-vs.-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Když chcete v Excelu sečíst dvě čísla ve dvou různých buňkách, nejprve je do těch buněk napíšete. Např. číslo 10 do buňky A1 a číslo 20 do buňky B1. Do buňky C1 pak můžete dát vzorec <code>=A1+B1</code>, který čísla sečte.</p>
<p>V R to uděláte podobně jen musíte napsat kód, který „buňky" (v R se jim říká objekty) založí a pak sečte. Ten kód může vypadat třeba takhle:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="prvni-kroky.html#cb6-1" aria-hidden="true" tabindex="-1"></a>prvni_cislo <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb6-2"><a href="prvni-kroky.html#cb6-2" aria-hidden="true" tabindex="-1"></a>druhe_cislo <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb6-3"><a href="prvni-kroky.html#cb6-3" aria-hidden="true" tabindex="-1"></a>prvni_cislo <span class="sc">+</span> druhe_cislo</span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<p>Případně můžete, stejně jako v Excelu, dvě čísla rovnou sečíst:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="prvni-kroky.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">+</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<p>A nebo výsledek uložit do jiné „buňky" (objektu):</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="prvni-kroky.html#cb10-1" aria-hidden="true" tabindex="-1"></a>prvni_cislo <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb10-2"><a href="prvni-kroky.html#cb10-2" aria-hidden="true" tabindex="-1"></a>druhe_cislo <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb10-3"><a href="prvni-kroky.html#cb10-3" aria-hidden="true" tabindex="-1"></a>vysledek <span class="ot">&lt;-</span> prvni_cislo <span class="sc">+</span> druhe_cislo</span></code></pre></div>
<p>a tu si pak zobrazit:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="prvni-kroky.html#cb11-1" aria-hidden="true" tabindex="-1"></a>vysledek</span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<p>Ve skutečnosti je to o dost pestřejší. Můžete jedním „vzorcem" (v R se tomu říká výraz nebo příkaz) zpracovat celou řadu nebo tabulku různých hodnot a výsledek zobrazit mnoha způsoby – jako tabulku, formátovaný text, graf. To vše se v této knížce naučíte.</p>
</div>
<div id="tři-způsoby-práce-s-r" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Tři způsoby práce s R<a href="prvni-kroky.html#tři-způsoby-práce-s-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>S R jde pracovat více různými způsoby. Já nejčastěji používám tři:</p>
<ol style="list-style-type: decimal">
<li>Interaktivní práce v konsoli.</li>
<li>Polointeraktivní práce se skriptem.</li>
<li>Interaktivní, poloautomatická či zcela automatická tvorba dokumentu v R Markdownu.</li>
</ol>
<p>Všechny tři ukážu na jednoduchém příkladu: představte si, že jste dnes ve svém obchodě vydali 100 účtenek. Teď se chcete rychle dozvědět, kolik dělá celková tržba a jaká byla typická útrata jednoho zákazníka.</p>
</div>
<div id="interaktivní-práce-s-konsolí" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Interaktivní práce s konsolí<a href="prvni-kroky.html#interaktivní-práce-s-konsolí" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Vaše RStudio vypadá nějak takhle a konsole je ta velká plocha vlevo. Psát budete za zobáček úplně vlevo (jinam ani nejde umístit kursor), každý řádek vždy odentrujete a konsole vám většinou nějak odpoví.</p>
<p><img src="img/rstudio-console-01.png" alt="RStudio: Console" /></p>
<p>Nejprve si vygenerujte účtenky. Budou sice trochu falešné, ale to nevadí. Do konsole napište:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="prvni-kroky.html#cb13-1" aria-hidden="true" tabindex="-1"></a>cena <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">1000</span>, <span class="at">sd =</span> <span class="dv">200</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<p>Odentrujte a nic se nestane. Vlastně stane. Pokud se podíváte doprava na záložku <em>Environment</em>, uvidíte tam tohle:</p>
<p><img src="img/rstudio-console-02.png" alt="RStudio: Výsledek přiřazení" /></p>
<p>Příkazem jste totiž vytvořili v prostředí R (environment) nový objekt <code>cena</code> a uložili jste do něj sto (skoro) náhodných čísel. Na všechny se můžete podívat příkazem:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="prvni-kroky.html#cb14-1" aria-hidden="true" tabindex="-1"></a>cena</span></code></pre></div>
<pre><code>##   [1]  905.75  945.16  937.06  995.61  900.50  898.35 1094.71 1036.28 1204.08
##  [10] 1008.67  778.81 1263.05 1155.60 1064.91  878.44 1135.79  893.96 1149.20
##  [19]  914.46  775.74 1092.16 1051.80 1100.57 1018.85 1180.26  624.85  916.65
##  [28]  823.61 1097.68 1276.96 1062.18 1090.75  923.47  915.74 1423.99  966.59
##  [37] 1293.23  969.50 1199.78 1047.91  813.85 1122.25  946.92 1287.90 1166.51
##  [46]  793.62 1080.10  713.90 1518.90  603.98  983.10  792.77  789.39 1023.54
##  [55] 1098.96  700.33  939.75  869.32  724.91 1072.73 1139.98  765.22 1153.22
##  [64]  773.97  973.19 1483.70 1081.34 1107.00 1136.05  821.73  985.57  764.00
##  [73] 1231.81  859.90  824.81  890.92 1052.11 1138.20 1599.40 1101.71  903.94
##  [82] 1075.76  877.21 1043.73  745.40  937.99  851.71  867.23 1032.09 1309.29
##  [91] 1018.41 1190.79  789.70  948.23  719.15  723.69 1022.20 1055.94  669.47
## [100] 1036.37</code></pre>
<p>což pak na konsoli vypadá nějak takhle:</p>
<p><img src="img/rstudio-console-03.png" alt="Výsledek příkazu cena" /></p>
<p>Teď vám to ale musím vysvětlit trochu podrobněji.</p>
<div id="objekty-proměnné" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Objekty (proměnné)<a href="prvni-kroky.html#objekty-proměnné" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Objekt jazyka R se chová podobně jako proměnná v jiných programovacích jazycích. Je to vlastně takový šuplík, do kterého si můžete ukládat nejrůznější hodnoty: čísla, textové řetězce, logické hodnoty (TRUE a FALSE čili pravda a nepravda) apod.</p>
<p>Oproti jiným programovacím jazykům je tu pár zvláštností:</p>
<ul>
<li>Do objektů se hodnoty přiřazují operátorem <code>&lt;-</code>. Ten můžete vložit i klávesovou zkratkou <kbd>Alt</kbd>+<kbd>-</kbd> (Alt pomlčka).</li>
<li>Běžné objekty R jsou ve skutečnosti vektory. V jiných programovacích jazycích tomu obvykle odpovídá jednorozměrné pole. V praxi to znamená, že v číselném objektu nemusí být jen jedno číslo, ale může jich tam být moc. V našem příkladu jich je sto.</li>
<li>R s vektory automaticky i počítá. K vektoru pěti čísel tedy můžete přičíst jedno číslo (ve skutečnosti vektor s jedním číslem) a ono se automaticky přičte ke všem pěti. Později na to ukážu další příklady.</li>
</ul>
<p>Kde se vám tam těch sto čísel vzalo? Získali jste je funkcemi <code>rnorm</code> a <code>round</code>.</p>
</div>
<div id="funkce" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Funkce<a href="prvni-kroky.html#funkce" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Poučka praví: když to existuje, je to objekt, a když to něco dělá, je to funkce. Můžete to brát i tak, že funkce je všechno, co má za svým jménem kulaté závorky. V závorkách mohou být tzv. parametry (někdy se jim říká argumenty; je to totéž), čili vstupní data, která chcete funkci předat. Funkce tyto parametry zpracuje a vrátí výsledek. Vlastně úplně stejně, jako funkce v Excelu.</p>
<p>U názvů objektů i funkcí záleží na velikosti písmen. <code>Cena</code> je něco jiného než <code>cena</code>, tak pozor na to.</p>
<p><code>rnorm</code> je funkce, která vrací (skoro) náhodná čísla. Skoro jsem dal do závorky, protože vrácená čísla jsou náhodná v rámci normálního rozdělení (to je ta slavná Gaussova křivka), jehož podobu určíte parametry <code>mean</code> (průměr) a <code>sd</code> (směrodatná odchylka neboli standard deviation). Parametrem <code>n</code> navíc musíte určit, kolik těch čísel vlastně chcete.</p>
<p>Následující příkaz tedy vrátí vektor sta náhodných čísel z normální rozdělení s průměrem 1000 a směrodatnou odchylkou 200.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="prvni-kroky.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">1000</span>, <span class="at">sd =</span> <span class="dv">200</span>)</span></code></pre></div>
<pre><code>##   [1] 1038.1564  965.6331 1063.3813 1007.7508 1032.4321 1383.0094 1067.1953
##   [8]  805.3382  581.9905 1200.7124  912.6972  513.9380  994.4892  961.1868
##  [15]  986.6261  768.0172  908.4539 1090.1937  735.3103 1974.7743 1342.1655
##  [22]  991.9569  877.6877 1052.5115  572.3285 1309.5514 1250.5743  730.2405
##  [29]  989.5846 1241.7978 1078.5247 1160.4769 1166.7832 1146.9113 1078.4686
##  [36]  867.4929  907.4126 1320.1556  782.5120  979.9685 1311.6005  653.3569
##  [43] 1358.8651 1008.0771 1320.2879  942.2743 1217.7596  973.4276  944.1345
##  [50]  926.1385  920.7046  997.7242  849.0782  808.6247  897.9954 1003.2587
##  [57] 1309.1496  636.6261  994.1462  848.1446  896.3274  918.6182  765.1938
##  [64]  734.8151 1075.1892  851.9519 1069.6977  794.3381 1235.1494 1097.3407
##  [71] 1030.2953 1166.6217  859.1580 1327.6470 1209.5028 1398.5279 1492.7389
##  [78]  916.1234 1332.3824  812.7160 1087.3410 1488.6041  737.6528  959.0035
##  [85]  958.8220  941.3670 1089.8587 1109.5956 1216.3907  723.6204 1190.4720
##  [92]  857.5228 1077.3992  818.7378 1039.1254  950.7856  735.4822  957.8003
##  [99]  925.9356  848.1193</code></pre>
<p>Klidně si ho zadejte párkrát do konzole s různými parametry, abyste viděli, jak se mění výsledek.</p>
<p><code>round</code> je funkce, která zaokrouhluje. První parametr je číselný vektor, který se má zaokrouhlit, a druhý parametr digits určuje, na kolik desetinných míst se má zaokrouhlit. Následující příkaz tedy zaokrouhlí číslo 1.145 na dvě desetinná místa:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="prvni-kroky.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fl">1.145</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 1.15</code></pre>
<p>První parametr funkce <code>round</code> se jmenuje <code>x</code>, ale první parametr funkce se často píše bez jména, protože jeho pořadí nejde poplést. Každopádně ale může napsat volání funkce i takto a výsledek bude stejný:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="prvni-kroky.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="at">x =</span> <span class="fl">1.145</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 1.15</code></pre>
<p>A teď už asi chápete – funkce <code>rnorm</code> vrátí sto čísel s hodně desetinnými čísly, a proto jste její výsledek ještě poslali funkci <code>round</code>, která celý vektor (tj. všech sto čísel) zaokrouhlila na dvě desetinná místa. V jiném programovacím jazyce byste na to potřebovali dost složité výpočty v cyklech, v R stačí tohle:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="prvni-kroky.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">100</span>, <span class="at">mean =</span> <span class="dv">1000</span>, <span class="at">sd =</span> <span class="dv">200</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##   [1] 1166.99  846.01 1062.08 1318.98  900.77 1109.95  974.49  910.30 1325.10
##  [10]  824.95 1196.82  949.21  782.48  919.09 1024.16 1081.87  671.76 1045.35
##  [19]  836.72  953.54  902.22 1283.62 1329.66  883.99 1049.42  966.57  836.14
##  [28]  940.44  812.62  977.58  915.74  995.75 1046.78  934.60  786.68 1411.52
##  [37]  509.72 1275.09 1334.35  874.56 1043.59  771.01 1012.40 1053.05  902.83
##  [46]  770.40 1397.59 1134.43  898.92  573.68 1079.21  638.58  960.50 1009.84
##  [55]  977.65 1254.42 1084.04  734.51 1307.45 1342.63 1491.38  833.91  931.95
##  [64]  756.87 1312.67  923.12 1116.60  843.53  738.09 1115.58  889.52  845.03
##  [73] 1064.35  883.47 1093.08 1029.60 1130.69  860.80 1079.14 1110.43  870.58
##  [82]  993.05 1014.01 1184.37  933.78  589.19 1080.77  946.07 1266.71  884.11
##  [91] 1312.76 1055.90  823.24  544.85 1218.51 1172.59 1016.07  760.98 1013.55
## [100]  839.50</code></pre>
<p>Mimochodem, všimli jste si v předešlých příkladech těch čísel v hranatých závorkách? Protože se v příkladech vypisují jako výsledky vektory (všechny základní, tzv. atomické typy jsou v R vektory), R vám těmi čísly v hranatých závorkách říká, na jaké pozici ve vektoru daná hodnota je.</p>
<p>A hranaté závorky jdou i použít pro adresování konkrétního prvku vektoru. Třeba tohle zobrazí z vytvořeného vektoru <code>cena</code> jenom pátý prvek:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="prvni-kroky.html#cb24-1" aria-hidden="true" tabindex="-1"></a>cena[<span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1] 900.5</code></pre>
<p>a tohle pátý až desátý:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="prvni-kroky.html#cb26-1" aria-hidden="true" tabindex="-1"></a>cena[<span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>## [1]  900.50  898.35 1094.71 1036.28 1204.08 1008.67</code></pre>
<p>Chtěli jsme ještě účtenky sečíst, že? Je to hračka:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="prvni-kroky.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(cena)</span></code></pre></div>
<pre><code>## [1] 99757.52</code></pre>
<p>Zajímá vás, kolik dělá celková tržba bez DPH?</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="prvni-kroky.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(cena <span class="sc">/</span> <span class="dv">121</span> <span class="sc">*</span> <span class="dv">100</span>)</span></code></pre></div>
<pre><code>## [1] 82444.23</code></pre>
<p>případně:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="prvni-kroky.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(cena) <span class="sc">/</span> <span class="dv">121</span> <span class="sc">*</span> <span class="dv">100</span></span></code></pre></div>
<pre><code>## [1] 82444.23</code></pre>
<p>Obojí by vám mělo dát stejný výsledek. V prvním případě se ale nejprve vydělí každý jednotlivý prvek vektoru a pak se celý vektor sečte, kdežto v druhém případě se celý vektor nejprve sečte a pak teprve vydělí.</p>
<p>Zajímá vás rozložení ceny zobrazené v histogramu?</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="prvni-kroky.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(cena)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>Zobrazí se vám na panelu <em>Plot</em> vpravo (váš bude vypadat trochu jinak).</p>
<p>Tím jste poznali další dvě funkce (<code>sum</code> a <code>hist</code>). Za chvíli vám ukážu, jak totéž udělat skriptem a v R Markdownu, ale nejdřív pár slov k nápovědě.</p>
</div>
<div id="integrovaná-nápověda" class="section level3 hasAnchor" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Integrovaná nápověda<a href="prvni-kroky.html#integrovaná-nápověda" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R má přímo v sobě zabudovanou nápovědu ke každé funkci. Ta se projevuje jednak tím, že když začnete psát název funkce, po pár znacích se začnou nabízet funkce, jejichž název těmi znaky začíná a v bublině se objeví stručný popis. Tuto nápovědu lze případně vynutit klávesovou kombinací <kbd>Ctrl</kbd>+<kbd>Space</kbd>.</p>
<p><img src="img/rstudio-napoveda-01.png" alt="Nápověda při psaní názvu funkce" /></p>
<p>Pokud máte funkci napsanou i se závorkami, <kbd>Ctrl</kbd>+<kbd>Space</kbd> vám napoví možné parametry.</p>
<p><img src="img/rstudio-napoveda-02.png" alt="Nápověda při psaní názvu funkce" /></p>
<p>Můžete též na konzoli zadat příkaz příkaz tvořený otazníkem a názvem funkce, např. <code>?rnorm</code>, a pak se vám otevře kompletní nápověda na panelu <em>Help</em> vpravo.</p>
<p><img src="img/rstudio-napoveda-03.png" alt="Nápověda při psaní názvu funkce" /></p>
<p>A konečně můžete s kurzorem na názvu funkce stisknout <kbd>F1</kbd> a dostanete opět kompletní nápovědu v panelu <em>Help</em>.</p>
<p>Při práci s R tedy nemusíte skoro googlit. Stačí si pamatovat alespoň přibližné názvy funkcí.</p>
</div>
</div>
<div id="práce-se-skripty" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Práce se skripty<a href="prvni-kroky.html#práce-se-skripty" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Práce v konsoli je sice flexibilní, ale na víc než pár příkazů dost nepraktická. Když uděláte chybu, můžete se sice šipkami nahoru a dolů pohybovat po historii příkazů a opravovat je, ale není to ono. Chyby se mnohem lépe opravují ve skriptech.</p>
<p>Z menu <em>File → New File</em> vyberte <em>R Script</em> a vlevo nahoře se vám otevře editor skriptů. Do něj si vložte všechny příkazy, které jste předtím zadali postupně do konsole. Nemusíte to ale dělat ručně – podívejte se vpravo na záložku History a vida, jsou tam, že? Vyberte ty správné a tlačítkem To Source je přesuňte do skriptu. Okno RStudia by pak mělo vypadat nějak takto:</p>
<p><img src="img/rstudio-script-01.png" alt="Skript v RStudiu" /></p>
<p>Když nyní na kterémkoli řádku stisknete <kbd>Ctrl</kbd>+<kbd>Enter</kbd>, celý řádek se vykoná stejně, jako kdybyste ho zadali na konzoli. Můžete i klávesou Shift vybrat víc řádků a pak se po <kbd>Ctrl</kbd>+<kbd>Enter</kbd> vykonají všechny. A konečně můžete tlačítkem <em>Source</em> nad editorem vykonat celý skript. Po vykonání celého skriptu by mělo okno RStudia vypadat nějak takto:</p>
<p><img src="img/rstudio-script-02.png" alt="RStudio po vykonání celého skriptu" /></p>
<p>Nezapomeňte si ale celý skript uložit pod nějakým vhodným jménem (třeba <code>prvni-skript</code>). Měl by se vám uložit do složky projektu a ke jménu se automaticky připojí přípona R.</p>
<div id="úprava-skriptu" class="section level3 hasAnchor" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Úprava skriptu<a href="prvni-kroky.html#úprava-skriptu" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Hlavní výhoda skriptu spočívá v tom, že jde snadno upravit a pak celý znovu spustit. Vyzkoušejte si to. Hned v prvním řádku změňte <code>rnorm</code> za <code>runif</code> a odstraňte této funkci parametry <code>mean</code> a <code>sd</code>, takže zbude jen:.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="prvni-kroky.html#cb35-1" aria-hidden="true" tabindex="-1"></a>cena <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">runif</span>(<span class="at">n =</span> <span class="dv">100</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<p>Když teď celý skript znovu spustíte příkazem <em>Source</em> (nebo klávesovou zkratkou <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>S</kbd>), poznáte, co se změnilo?</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="prvni-kroky.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(cena)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>Ano, změnil se histogram.</p>
<p>Funkce <code>rnorm</code> totiž vybírá náhodná čísla z normálního rozložení (<strong>r</strong>andom <strong>norm</strong>al distribution) a histogram má proto tvar známe gaussovy křivky – čísla blíže průměru se vyskytnou pravděpodobněji než čísla dál od průměru. Funkce <code>runif</code> (<strong>r</strong>andom <strong>unif</strong>orm distribution) naproti tomu vybírá náhodná čísla z rovnoměrného rozdělení, takže pravděpodobnost zastoupení všech čísel mezi nulou a jednou je stejná.</p>
</div>
</div>
<div id="r-markdown" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> R Markdown<a href="prvni-kroky.html#r-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Skripty jsou praktické, ale mají dvě nevýhody:</p>
<ul>
<li>Když nechcete provést celý skript najednou, špatně se v nich hledá část, kterou chcete spustit.</li>
<li>Výstup není moc přehledný a je rozdělený na víc míst: textový výstup se ne moc hezky zobrazí v konzoli a grafy na panelu <em>Plots</em>.</li>
</ul>
<p>Obě tyto nevýhody odstraňuje R Markdown.</p>
<div id="co-je-r-markdown" class="section level3 hasAnchor" number="3.5.1">
<h3><span class="header-section-number">3.5.1</span> Co je R Markdown<a href="prvni-kroky.html#co-je-r-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="základní-markdown" class="section level4 hasAnchor" number="3.5.1.1">
<h4><span class="header-section-number">3.5.1.1</span> Základní Markdown<a href="prvni-kroky.html#základní-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Samotný <a href="https://cs.wikipedia.org/wiki/Markdown">Markdown</a> možná znáte. Je to jednoduchý značkovací jazyk, kterým jdou v čistě textovém formátu vyznačit základní strukturální a formátovací prvky – nadpisy, odstavce, odrážky, odkazy, tučný text apod. Z toho pak jde vygenerovat výstupy v různých formátech: nejčastěji v HTML, ale klidně i PDF, Word atd.</p>
<p>Text v Markdownu vypadá např. takto:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb37-1"><a href="prvni-kroky.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Tohle je nadpis 1. úrovně</span></span>
<span id="cb37-2"><a href="prvni-kroky.html#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="prvni-kroky.html#cb37-3" aria-hidden="true" tabindex="-1"></a>Tohle je běžný odstavec. Víc odstavců je od sebe odděleno dvěma Entry čili prázdným řádkem.</span>
<span id="cb37-4"><a href="prvni-kroky.html#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="prvni-kroky.html#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="fu">## Tohle je nadpis 2. úrovně</span></span>
<span id="cb37-6"><a href="prvni-kroky.html#cb37-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-7"><a href="prvni-kroky.html#cb37-7" aria-hidden="true" tabindex="-1"></a>Tohle je příklad <span class="co">[</span><span class="ot">odkazu v textu</span><span class="co">](https://example.com)</span>. A tohle je příklad odrážek:</span>
<span id="cb37-8"><a href="prvni-kroky.html#cb37-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-9"><a href="prvni-kroky.html#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>první odrážka,</span>
<span id="cb37-10"><a href="prvni-kroky.html#cb37-10" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>druhá odrážka,</span>
<span id="cb37-11"><a href="prvni-kroky.html#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>třetí odrážka.</span>
<span id="cb37-12"><a href="prvni-kroky.html#cb37-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-13"><a href="prvni-kroky.html#cb37-13" aria-hidden="true" tabindex="-1"></a>Jdou udělat i číslované body, které se automaticky očíslují podle pořadí:</span>
<span id="cb37-14"><a href="prvni-kroky.html#cb37-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-15"><a href="prvni-kroky.html#cb37-15" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>První bod.</span>
<span id="cb37-16"><a href="prvni-kroky.html#cb37-16" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Druhý bod.</span>
<span id="cb37-17"><a href="prvni-kroky.html#cb37-17" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Poslední bod.</span></code></pre></div>
<p>Jak vidíte, docela dobře se píše a dobře se i čte, i když není převedený (vyrenderovaný) do HTML. Ale když se převede, je výsledek docela hezký:</p>
<p><img src="img/markdown-01.png" alt="Příklad převedeného Markdownu" /></p>
</div>
<div id="r-markdown-1" class="section level4 hasAnchor" number="3.5.1.2">
<h4><span class="header-section-number">3.5.1.2</span> R Markdown<a href="prvni-kroky.html#r-markdown-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>R Mardown je Markdown, do kterého jsou zamíchané kusy eRkového kódu. Vypadá nějak takhle:</p>
<p><img src="img/rmarkdown-01.png" alt="Příklad R Markdownu" /></p>
<p>Vyzkoušejte si nyní R Markdown sami. Nejprve si založte nový soubor: Z menu <em>File → New File</em> vyberte <em>R Notebook</em>. Objeví se vám editor s předvyplněným vzorovým obsahem. Ten celý zrušte (Ctrl+A, Del) a zkopírujte do něj tohle:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb38-1"><a href="prvni-kroky.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb38-2"><a href="prvni-kroky.html#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> &quot;Můj první R Notebook&quot;</span></span>
<span id="cb38-3"><a href="prvni-kroky.html#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="an">output:</span><span class="co"> html_notebook</span></span>
<span id="cb38-4"><a href="prvni-kroky.html#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb38-5"><a href="prvni-kroky.html#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="prvni-kroky.html#cb38-6" aria-hidden="true" tabindex="-1"></a>Toto je příklad <span class="co">[</span><span class="ot">R Markdown</span><span class="co">](http://rmarkdown.rstudio.com)</span> zápisníku (notebook). Začíná nahoře metadaty, které zde udávají jen titulek a formát výstupu. Metadata jsou ohraničena řádky tvořenými třemi pomlčkami. Pak následuje normální Markdown.</span>
<span id="cb38-7"><a href="prvni-kroky.html#cb38-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-8"><a href="prvni-kroky.html#cb38-8" aria-hidden="true" tabindex="-1"></a>Za tímto odstavcem je blok eRkového kódu, kterému se říká *chunk* a já mu budu říkat *blok*.</span>
<span id="cb38-9"><a href="prvni-kroky.html#cb38-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-10"><a href="prvni-kroky.html#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-11"><a href="prvni-kroky.html#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="in">cena &lt;- round(rnorm(n = 100, mean = 1000, sd = 200), digits = 2)</span></span>
<span id="cb38-12"><a href="prvni-kroky.html#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="in">sum(cena)</span></span>
<span id="cb38-13"><a href="prvni-kroky.html#cb38-13" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-14"><a href="prvni-kroky.html#cb38-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-15"><a href="prvni-kroky.html#cb38-15" aria-hidden="true" tabindex="-1"></a>Pokud blok spustíte zelenou šipečkou na jeho pravém horním okraji nebo klávesovou zkratkou Ctrl+Shift+Enter, provede se a zobrazí výstup přímo pod sebou.</span></code></pre></div>
<p>Výsledek bude vypadat jako na předešlém obrázku. Nyní můžete podle instrukcí vykonat jediný blok kódu, který tam zatím máte, a pod blokem se vám zobrazí součet ceny.</p>
<p>A můžete i celý soubor převést do HTML a prohlédnout si ho v celé kráse. Uděláte to příkazem <em>Preview</em> z toolbaru nad editorem, ale před tím ještě musíte soubor uložit, třeba pod jménem <code>prvni-notebook</code>. Ke jménu se automaticky připojí přípona Rmd.</p>
<p>Celý výsledek se zobrazí v panelu <em>Viewer</em> vpravo:</p>
<p><img src="img/rmarkdown-02.png" alt="Náhled vykresleného R Mardownu" /></p>
<p>Už jste pochopili, v čem jsem napsal tuhle knížku? Ano, v RStudiu v R Markdownu :-)</p>
<p>Ze všech tří způsobů používání R (konzole, skripty, R Markdown) používám R Markdown pro běžné analýzy nejčastěji. Píšu si v něm postup, eRkový kód i poučení z výsledků. Když se pak později k analýze vrátím, třeba proto, že chci pro jiného klienta udělat podobnou, krásně vidím, jak jsem postupoval a co a proč jsem udělal. Už tohle je pro mě obrovská výhoda oproti excelové tabulce, ve které se už po pár týdnech nevyznám a musím znovu pracně zkoumat, co tam je, proč to tam a jak to vlastně funguje.</p>
<p>A totéž doporučuji i vám: klidně pro teď zapomeňte, že konzole a skripty vůbec existují, a používejte na všechno R Markdown.</p>
</div>
</div>
</div>
<div id="z-téhle-kapitoly-si-pamatujte" class="section level2 hasAnchor" number="3.6">
<h2><span class="header-section-number">3.6</span> Z téhle kapitoly si pamatujte<a href="prvni-kroky.html#z-téhle-kapitoly-si-pamatujte" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="r-markdown-2" class="section level3 hasAnchor" number="3.6.1">
<h3><span class="header-section-number">3.6.1</span> R Markdown<a href="prvni-kroky.html#r-markdown-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Zvykněte si na R Markdown jako základní způsob práce s R. Konzole se hodí pro pár pomocných příkazů, nebo abyste si vyzkoušeli, jak která funkce funguje. Skripty se hodí pro dávkové zpracování bez interaktivity, když přesně víte, co a jak chcete udělat. Také se jimi definují nové funkce a píšou balíčky. Pro všechno ostatní je tu R Markdown. Když si budete cokoli z této knihy zkoušet, založte si na to R Notebook nebo R Markdown Document – ono je to skoro totéž.</p>
<p>Bude se vám hodit pár klávesových zkratek:</p>
<table>
<thead>
<tr class="header">
<th align="left">Akce</th>
<th align="left">Windows &amp; Linux</th>
<th align="left">Mac</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Vlož blok kódu (chunk)</td>
<td align="left"><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>I</kbd></td>
<td align="left"><kbd>Command</kbd>+<kbd>Option</kbd>+<kbd>I</kbd></td>
</tr>
<tr class="even">
<td align="left">Vlož přiřazení (znaky &lt;-)</td>
<td align="left"><kbd>Alt</kbd>+<kbd>-</kbd></td>
<td align="left"><kbd>Option</kbd>+<kbd>-</kbd></td>
</tr>
<tr class="odd">
<td align="left">Proveď řádek kódu s kurzorem</td>
<td align="left"><kbd>Ctrl</kbd>+<kbd>Enter</kbd></td>
<td align="left"><kbd>Command</kbd>+<kbd>Enter</kbd></td>
</tr>
<tr class="even">
<td align="left">Proveď blok kódu s kurzorem</td>
<td align="left"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Enter</kbd></td>
<td align="left"><kbd>Command</kbd>+<kbd>Shift</kbd>+<kbd>Enter</kbd></td>
</tr>
<tr class="odd">
<td align="left">Proveď všechny bloky v souboru</td>
<td align="left"><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>R</kbd></td>
<td align="left"><kbd>Command</kbd>+<kbd>Option</kbd>+<kbd>R</kbd></td>
</tr>
<tr class="even">
<td align="left">Proveď všechny bloky nad kurzorem</td>
<td align="left"><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>P</kbd></td>
<td align="left"><kbd>Command</kbd>+<kbd>Option</kbd>+<kbd>P</kbd></td>
</tr>
<tr class="odd">
<td align="left">Zobraz celý dokument v HTML</td>
<td align="left"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>K</kbd></td>
<td align="left"><kbd>Command</kbd>+<kbd>Shift</kbd>+<kbd>K</kbd></td>
</tr>
<tr class="even">
<td align="left">Jdi na další blok nebo titulek</td>
<td align="left"><kbd>Ctrl</kbd>+<kbd>PgDown</kbd></td>
<td align="left"><kbd>Command</kbd>+<kbd>PgDown</kbd></td>
</tr>
<tr class="odd">
<td align="left">Jdi na předchozí blok nebo titulek</td>
<td align="left"><kbd>Ctrl</kbd>+<kbd>PgUp</kbd></td>
<td align="left"><kbd>Command</kbd>+<kbd>PgUp</kbd></td>
</tr>
<tr class="even">
<td align="left">Nápověda k funkci s kurzorem</td>
<td align="left"><kbd>F1</kbd></td>
<td align="left"><kbd>F1</kbd></td>
</tr>
</tbody>
</table>
<p>Pokud si je nechcete pamatovat, všechny mají i své tlačítko buď na toolbaru nad editorem, nebo přímo v pravém horním rohu každého bloku kódu. Funkce tlačítka se vám zobrazí po najetí myši.</p>
</div>
<div id="vektory" class="section level3 hasAnchor" number="3.6.2">
<h3><span class="header-section-number">3.6.2</span> Vektory<a href="prvni-kroky.html#vektory" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Zatímco v Excelu máte v jedné buňce jedno číslo (nebo jeden text, jedno datum apod.), objekt základního typu (číslo, text, logická hodnota) v R je vždy vektor. To znamená, že obsahuje uspořádanou řadu hodnot daného typu. Vektor může mít délku 1, pak obsahuje jen jednu hodnotu, ale taky třeba milion, a pak obsahuje milion hodnot.</p>
<p>S vektory počítají i běžné operace. Když k vektoru s deseti čísly přičtete jiný vektor s deseti čísly, bude výsledek opět vektor s deseti čísly, ve kterém se sečte první s prvním, druhé s druhým atd. Pokud ale k vektoru s deseti čísly přičtete vektor s jedním číslem, dojde k tzv. recyklaci druhého vektoru, což znamená, že se číslo z druhého vektoru postupně přičte ke všem číslům prvního vektoru.</p>
<p>Ukážu to raději na příkladu (funkce <code>c</code> tvoří vektory):</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="prvni-kroky.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 11 22 33</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="prvni-kroky.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>) <span class="sc">+</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>## [1] 11 21 31</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="prvni-kroky.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## Warning in c(10, 20, 30) + c(1, 2): longer object length is not a multiple of
## shorter object length</code></pre>
<pre><code>## [1] 11 22 31</code></pre>
<p>Vidíte, že poslední příklad sice upozorní na možnou chybu, ale provede se podle pravidla recyklace.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="prvni-kroky.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 11 22 31 42</code></pre>
<p>Zde na chybu neupozorní, protože se druhý vektor zrecykluje přesně dvakrát.</p>
</div>
<div id="funkce-1" class="section level3 hasAnchor" number="3.6.3">
<h3><span class="header-section-number">3.6.3</span> Funkce<a href="prvni-kroky.html#funkce-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Funkce fungují úplně stejně jako v Excelu. Nějak se jmenují a v závorce mají parametry. Když žádné parametry nemají, musí za nimi být prázdná závorka. Funkce stejně jako v Excelu vrátí nějakou hodnotu a nikdy nezmění hodnotu parametrů. Pár rozdílů tu ale přeci jenom je:</p>
<ul>
<li>V názvech funkcí záleží na velikosti písmen. <code>View</code> a <code>view</code> jsou dvě různé funkce.</li>
<li>Parametry jsou pojmenované, takže jdou zapisovat způsobem <code>round(x = 1.145, digits = 2)</code>. Pokud ale dodržím závazné pořadí parametrů, mohu napsat i <code>round(1.145, 2)</code> a dostanu stejný výsledek.</li>
<li>Funkce umí pracovat s vektory. To znamená, že např. funkce <code>round</code> umí zaokrouhlit mnoho různých čísel naráz.</li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="instalace-a-nastaveni.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="jak-dostat-data-do-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
